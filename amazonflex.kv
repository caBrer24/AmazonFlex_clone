

<LoginWindow>
    canvas.before:
        Rectangle:
            pos: self.pos
            size: (450, 785)
            source: 'back_pic.png'

        Rectangle:
            pos: self.pos
            size: (450, 150)
    BoxLayout:
        orientation: "vertical"
        padding: 25
        spacing: 10


        MDFlatButton:
            id: sign_in_amazon_button
            size_hint: (1, None)
            text: "[b]Sign in with Amazon[/b]"
            theme_text_color: "Custom"
            text_color: "white"
            md_bg_color: app.main_orange
            on_release:
                root.manager.current = "credentials"



        MDRectangleFlatButton:
            id: create_account
            markup: True
            id: create_account
            text: "[b]Create an account[/b]"
            size_hint: (1, None)
            line_color: app.main_orange
            text_color: app.main_orange
            line_width: 1.3
            on_release:
                root.manager.current = 'create_account'


<Credentials>
    canvas.before:
        Rectangle:
            pos: self.pos
            size: (450, 785)
            source: 'back_pic.png'

        Rectangle:
            pos: self.pos
            size: (450, 385)
    BoxLayout:
        orientation: "vertical"
        spacing: 10
        padding: 20
        MDIconButton:
            id: back_arrow
            size_hint: 1, .05
            icon: "arrow-left"
            pos_hint: {"center_x": 0.03}
            user_font_size: "30sp"
            theme_icon_color: "Custom"
            icon_color: "white"
            on_release:
                root.manager.current = "login"
        FloatLayout:

            MDLabel:
                pos_hint: {"center_x": 0.5, "center_y": 0.05}
                id: sign_in_amazon_label
                font_size: "18sp"
                bold: True
                text: "Sign in with your\nAmazon.com account"
                color: 'black'

        MDTextField:
            id: email
            mode: 'rectangle'
            size_hint: 0.8, None
            cursor_color: app.main_orange

            font_size: "12sp"
            hint_text: "Username or email address"
            multiline: False
            line_color_normal: "grey"

        MDTextField:
            id: password_input
            color_mode: "custom"
            mode: 'rectangle'
            size_hint: 0.8, None
            font_size: "12sp"
            hint_text: "Password"
            password: True
            password_mask: "•"
            multiline: False
            line_color_normal: "grey"

        GridLayout:
            cols: 2
            size_hint: 1, 0.12
            pos_hint: {"center_x": 0.22}
            spacing: -100

            MDCheckbox:

                pos_hint: {"center_x": 0.5}

                on_active: app.on_checkbox_active(*args)

            MDLabel:


                text: "Show password"
                font_size: "13sp"
                color: "black"

        MDFlatButton:
            id: sign_in_button
            theme_text_color: "Custom"
            text_color: "white"
            size_hint: (1, None)
            md_bg_color: app.main_orange
            disabled_color: app.disabled_text_orange
            md_bg_color_disabled: app.disabled_orange
            text: "Sign in"
            disabled: True if password_input.text == "" or email.text == "" else False
            on_release:
                root.manager.current = 'main'



        MDTextButton:
            id: forgot_pw
            text: "Forgot password"
            size_hint: 1, None
            pos_hint: {"center_x": 0.85}
            color: app.disabled_text_orange
            font_size: "13sp"
            on_release:
                root.manager.current = "forgot_pass"

<CreateAcc>
    canvas.before:
        Rectangle:
            pos: self.pos
            size: self.size

    BoxLayout:
        orientation: "vertical"
        spacing: 20
        padding: 20

        MDIconButton:
            id: back_arrow
            size_hint: 1, .05
            icon: "arrow-left"
            pos_hint: {"center_x": 0.03}
            user_font_size: "30sp"
            theme_icon_color: "Custom"
            icon_color: app.main_orange
            on_release:
                root.manager.current = "login"

        FloatLayout:

            MDLabel:
                pos_hint: {"center_x": 0.5, "center_y": 0.90}
                id: sign_in_amazon_label
                font_size: "19sp"
                bold: True
                text: "Create a new account"
                color: 'black'



            MDTextField:
                pos_hint: {"center_x": 0.4, "center_y": 0.75}
                id: username
                mode: 'rectangle'
                size_hint: 0.8, None
                cursor_color: app.main_orange
                font_size: "12sp"
                hint_text: "Username"
                multiline: False
                line_color_normal: "grey"

            MDTextField:
                pos_hint: {"center_x": 0.4, "center_y": 0.55}
                id: email
                mode: 'rectangle'
                size_hint: 0.8, None
                cursor_color: app.main_orange
                font_size: "12sp"
                hint_text: "Email"
                multiline: False
                line_color_normal: "grey"



            MDTextField:
                pos_hint: {"center_x": 0.4, "center_y": 0.35}
                id: password
                mode: 'rectangle'
                size_hint: 0.8, None
                cursor_color: app.main_orange
                font_size: "12sp"
                hint_text: "Password"
                password: True
                password_mask: "•"
                multiline: False
                line_color_normal: "grey"



            MDTextField:
                pos_hint: {"center_x": 0.4, "center_y": 0.15}
                id: confirm_pass
                mode: 'rectangle'
                size_hint: 0.8, None
                cursor_color: app.main_orange
                font_size: "12sp"
                hint_text: "Confirm password"
                password: True
                password_mask: "•"
                multiline: False
                line_color_normal: "grey"


        MDFlatButton:
            id: sign_in_button
            theme_text_color: "Custom"
            text_color: "white"
            size_hint: (1, None)
            text: "Create account"
            md_bg_color: app.main_orange
            md_bg_color_disabled: app.disabled_orange
            disabled_color: app.disabled_text_orange
            disabled: True if username.text == "" or email.text == "" or password.text == "" or confirm_pass.text == "" else False
            on_release:
                root.manager.current = "credentials"


        MDLabel:
            size_hint: 1, 0.1
            text: "or"
            color: app.main_orange
            bold: True
            font_size: "15sp"
            halign: "center"

        MDGridLayout:
            cols: 3
            size_hint: .60, .1
            pos_hint: {"center_x": .5, "center_y": 1}
            Image:
                source: "assets/google.png"

            Image:
                source: "assets/amazon.png"

            Image:
                source: "assets/apple.png"

<ForgotPass>
    canvas.before:
        Rectangle:
            pos: self.pos
            size: self.size

    BoxLayout:
        orientation: "vertical"
        spacing: 20
        padding: 20

        MDIconButton:
            id: back_arrow
            size_hint: 1, .05
            icon: "arrow-left"
            pos_hint: {"center_x": 0.03}
            user_font_size: "30sp"
            theme_icon_color: "Custom"
            icon_color: app.main_orange
            on_release:
                root.manager.current = "credentials"

        FloatLayout:

            MDLabel:
                pos_hint: {"center_x": 0.5, "center_y": 0.90}
                id: create_password
                font_size: "19sp"
                bold: True
                text: "Create a new password!"
                color: 'black'



            MDTextField:
                pos_hint: {"center_x": 0.4, "center_y": 0.75}
                id: email
                mode: 'rectangle'
                size_hint: 0.8, None
                cursor_color: app.main_orange
                font_size: "12sp"
                hint_text: "Email"
                multiline: False
                line_color_normal: "grey"



            MDTextField:
                pos_hint: {"center_x": 0.4, "center_y": 0.6}
                id: new_password
                mode: 'rectangle'
                size_hint: 0.8, None
                cursor_color: app.main_orange
                font_size: "12sp"
                hint_text: "New password"
                multiline: False
                password: True
                password_mask: "•"
                line_color_normal: "grey"

            MDTextField:
                pos_hint: {"center_x": 0.4, "center_y": 0.45}
                id: confirm_pass
                mode: 'rectangle'
                size_hint: 0.8, None
                cursor_color: app.main_orange
                font_size: "12sp"
                hint_text: "Confirm password"
                multiline: False
                password: True
                password_mask: "•"
                line_color_normal: "grey"


        MDFlatButton:
            id: reset_pass
            theme_text_color: "Custom"
            text_color: "white"
            size_hint: (1, None)
            text: "Reset password"
            disabled: True if email.text == "" or new_password.text == "" or confirm_pass.text == "" else False
            md_bg_color: app.main_orange
            md_bg_color_disabled: app.disabled_orange
            disabled_color: app.disabled_text_orange

            on_release:
                root.manager.current = "reset_pass"

<ResetPass>
    MDIconButton:
        id: back_arrow
        size_hint: 1, .05
        icon: "arrow-left"
        pos_hint: {"center_x": 0.071, "center_y": 0.954}
        user_font_size: "30sp"
        theme_icon_color: "Custom"
        icon_color: app.main_orange
        on_release:
            root.manager.current = "credentials"
    MDLabel:
        halign: "center"
        text: "Your password has been reset!"


#: import NoTransition kivy.uix.screenmanager.NoTransition

<MainWindow>

    MDTopAppBar:
        id: toolbar

        padding: -3
        spacing: 25
        size_hint: 1, 0.08
        pos_hint: {"top": 1}

        title: "                Updates"

        md_bg_color: "#3D3B40"
        specific_text_color: "white"

        elevation: 0
        left_action_items: [['menu', lambda x: nav_draw.set_state('toggle')]]
        right_action_items: [['message-outline'], ['information-outline']]


    MDNavigationLayout:

        ScreenManager:
            id: main_screens
            transition: NoTransition()

            MDScreen:
                name: "updates"

                MDLabel:
                    text: "Updates"
                    halign: "center"

            MDScreen:
                name: "schedule"
                MDLabel:
                    text: "schedule"
                    halign: "center"

            MDScreen:
                name: "dashboard"
                MDLabel:
                    text: "dashboard"
                    halign: "center"

            MDScreen:
                name: "learning"
                MDLabel:
                    text: "learning"
                    halign: "center"

            MDScreen:
                name: "feedback"
                MDLabel:
                    text: "feedback"
                    halign: "center"


            MDScreen:
                name: "settings"
                MDLabel:
                    text: "settings"
                    halign: "center"

            MDScreen:
                name: "vehicles"
                MDLabel:
                    text: "vehicles"
                    halign: "center"




        MDNavigationDrawer:

            id: nav_draw
            radius: 0, dp(16), dp(16), 0
            enable_swiping: True
            scrim_color: app.color_scrim
            padding: 0
            background_color: app.theme_cls.accent_dark

            MDBoxLayout:

                orientation: "vertical"
                padding: 15

                spacing: 7

                MDAnchorLayout:
                    anchor_x: "left"
                    size_hint_y: None
                    height: pic.height
                    Image:
                        id: pic
                        pos_hint: {"center_x": 0.25}
                        source: "assets/pfp.jpg"

                MDNavigationDrawerLabel:
                    pos_hint: {"center_x": 0.77}
                    text: "Carlos Cabrera"

                    text_color: "black"


                ScrollView:

                    MDList:
                        OneLineListItem:

                            text: "Updates"
                            on_release:
                                main_screens.current = "updates"
                                toolbar.title = f"                 {self.text}"
                                nav_draw.set_state('close')
                                toolbar.right_action_items = [['message-outline'], ['information-outline']]

                        OneLineListItem:
                            text: "Schedule"
                            on_release:
                                toolbar.title = f"               {self.text}"
                                nav_draw.set_state('close')
                                main_screens.current = "schedule"
                                toolbar.right_action_items = [['message-outline'], ['information-outline']]

                        OneLineListItem:
                            text: "Dashboard"
                            on_release:
                                toolbar.right_action_items = []
                                toolbar.title = f"               {self.text}"
                                nav_draw.set_state('close')
                                main_screens.current = "dashboard"


                        OneLineListItem:
                            text: "Learning Portal"
                            on_release:
                                toolbar.title = f"           {self.text}"
                                nav_draw.set_state('close')
                                toolbar.right_action_items = []
                                main_screens.current = "learning"

                        OneLineListItem:
                            text: "Feedback"
                            on_release:
                                toolbar.title = f"                 {self.text}"
                                nav_draw.set_state('close')
                                toolbar.right_action_items = []
                                main_screens.current = "feedback"

                        OneLineListItem:
                            text: "Settings"
                            on_release:
                                toolbar.title = f"                  {self.text}"
                                nav_draw.set_state('close')
                                toolbar.right_action_items = []
                                main_screens.current = "settings"

                        OneLineListItem:
                            text: "Connected Vehicle"
                            text_size: 4
                            on_release:
                                toolbar.title = f"         {self.text}"
                                nav_draw.set_state('close')
                                toolbar.right_action_items = []
                                main_screens.current = "vehicles"





















